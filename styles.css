/* Root tokens: retro-warm palette + modern spacing */
:root{
  --bg: #f7f4ef;            /* paper-like */
  --ink: #1a1a1a;           /* deep graphite */
  --muted: #5c5c5c;
  --line: #e7e2da;
  --accent: #0b2b5b;        /* navy (trust) */
  --accent-2:#3fb984;       /* mint accent */
  --card: #fffdfa;
  --shadow: 0 4px 24px rgba(16,12,8,.08);
  --radius: 16px;

  --sans: "Inter", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  --serif:"Newsreader", "Iowan Old Style", Georgia, serif;
  --mono: "IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, monospace;

  --step-0: clamp(14px, .95vw, 16px);
  --step-1: clamp(18px, 1.5vw, 22px);
  --step-2: clamp(26px, 3vw, 36px);
  --step-3: clamp(38px, 5vw, 56px);
}

@media (prefers-color-scheme: dark){
  :root{
    --bg: #0f1113;
    --ink: #eae7e3;
    --muted:#9e9a95;
    --line: #22262a;
    --card: #14171a;
    --shadow: 0 6px 32px rgba(0,0,0,.35);
  }
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font: 400 var(--step-0)/1.6 var(--sans);
  color:var(--ink);
  background:var(--bg);
  text-rendering:optimizeLegibility;
  -webkit-font-smoothing:antialiased;
}

.container{max-width:1100px;margin:auto;padding:0 20px}
.skip{position:absolute;left:-9999px;top:auto}
.skip:focus{left:16px;top:16px;background:var(--card);padding:8px 12px;border-radius:8px;box-shadow:var(--shadow)}

.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

/* Header */
.site-header{
  position:sticky;top:0;z-index:50;
  backdrop-filter:saturate(140%) blur(10px);
  background:color-mix(in oklab, var(--bg) 92%, transparent);
  border-bottom:1px solid var(--line);
}
.header-inner{display:flex;align-items:center;justify-content:space-between;min-height:68px}
.brand{display:flex;align-items:center;gap:10px;text-decoration:none;color:var(--ink)}
.brand-mark{
  font-family:var(--mono);font-weight:700;
  border:1px solid var(--line);padding:6px 8px;border-radius:10px;
  background:var(--card);box-shadow:var(--shadow)
}
.brand-name{font-weight:600;letter-spacing:.2px}

.nav-toggle{display:none;background:none;border:0;cursor:pointer}
.nav-toggle .nav-toggle-bar{display:block;width:22px;height:2px;background:var(--ink);position:relative}
.nav-toggle .nav-toggle-bar::after,.nav-toggle .nav-toggle-bar::before{
  content:"";position:absolute;left:0;right:0;height:2px;background:var(--ink)
}
.nav-toggle .nav-toggle-bar::before{top:-6px}
.nav-toggle .nav-toggle-bar::after{bottom:-6px}

.nav-links{display:flex;align-items:center;gap:16px;list-style:none;margin:0;padding:0}
.nav-link{position:relative;text-decoration:none;color:var(--ink);padding:8px 6px;border-radius:10px}
.nav-link:hover{background:color-mix(in oklab, var(--card) 70%, transparent)}
.nav-link.active::after{
  content:"";position:absolute;left:8px;right:8px;bottom:4px;height:1.5px;background:var(--ink);
}

.theme-toggle{
  border:1px solid var(--line);background:var(--card);padding:6px 10px;border-radius:10px;cursor:pointer;
  font-family:var(--mono)
}

/* Hero */
.hero{padding:96px 0 52px;border-bottom:1px solid var(--line);position:relative;overflow:hidden}
.eyebrow{letter-spacing:.14em;text-transform:uppercase;color:var(--muted);font-size:12px}
.hero-title{
  font-family:var(--serif);font-size:var(--step-3);line-height:1.05;margin:.2em 0 .2em;
  letter-spacing:.2px
}
.underline{background:linear-gradient(to top, color-mix(in oklab, var(--accent) 45%, transparent) 0 45%, transparent 50%);padding:0 .15em}
.hero-subtitle{max-width:680px;color:var(--muted);font-size:var(--step-1)}
.hero-cta{display:flex;gap:12px;margin-top:18px}

.btn{
  display:inline-block;padding:10px 14px;border-radius:12px;
  background:var(--ink);color:var(--bg);text-decoration:none;border:1px solid var(--ink);
  box-shadow:var(--shadow);transition:transform .2s ease;
}
.btn:hover{transform:translateY(-1px)}
.btn.alt{
  background:transparent;color:var(--ink);
  border-color:var(--line)
}

.hero-marquee{
  margin-top:36px;white-space:nowrap;overflow:hidden;mask-image:linear-gradient(to right,transparent,black 10% 90%,transparent);
  font-family:var(--mono);color:var(--muted);opacity:.8;font-size:13px
}
.hero-marquee span{display:inline-block;padding-right:32px;animation:marquee 18s linear infinite}
@media (prefers-reduced-motion: reduce){.hero-marquee span{animation:none}}
@keyframes marquee {from{transform:translateX(0)} to{transform:translateX(-50%)}}

/* Sections */
.section{padding:72px 0;border-bottom:1px solid var(--line)}
.section.subtle{background:color-mix(in oklab, var(--bg) 92%, var(--card))}
.section-header h2{font-family:var(--serif);font-size:var(--step-2);margin:0 0 6px}
.section-kicker{color:var(--muted);margin:0 0 20px}

/* Cards, lists */
.card-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
@media (max-width:900px){.card-grid{grid-template-columns:repeat(2,1fr)}}
@media (max-width:640px){.card-grid{grid-template-columns:1fr}}

.card{
  background:var(--card);border:1px solid var(--line);border-radius:var(--radius);
  padding:18px;box-shadow:var(--shadow);text-decoration:none;color:inherit;display:flex;flex-direction:column;gap:8px;
}
.card:hover{transform:translateY(-2px)}
.card .meta{display:flex;gap:10px;color:var(--muted);font-size:12px}
.card .title{font-weight:600;font-size:18px}
.card .desc{color:var(--muted)}

.ghost{color:var(--muted);text-decoration:none;border-bottom:1px dotted var(--muted)}
.ghost:hover{color:var(--ink)}

.list{display:grid;gap:12px}
.list a{
  display:flex;justify-content:space-between;gap:12px;align-items:baseline;
  text-decoration:none;color:inherit;border-bottom:1px dashed var(--line);padding:10px 0;
}
.list a .left{display:flex;gap:10px;align-items:center}
.badge{font-family:var(--mono);font-size:12px;border:1px solid var(--line);border-radius:999px;padding:2px 8px;background:var(--card)}

.mono{font-family:var(--mono)}

/* Resume */
.resume{display:grid;grid-template-columns:1.25fr .75fr;gap:28px}
@media (max-width:900px){.resume{grid-template-columns:1fr}}
.resume-label{font-family:var(--serif);margin:22px 0 8px}
.timeline{list-style:none;margin:0;padding:0;display:grid;gap:16px}
.timeline li{
  background:var(--card);border:1px solid var(--line);border-radius:12px;padding:14px;box-shadow:var(--shadow)
}
.timeline .role{font-weight:600}
.timeline .where{color:var(--muted)}
.chips{list-style:none;margin:0;padding:0;display:flex;flex-wrap:wrap;gap:8px}
.chips li{border:1px solid var(--line);padding:6px 10px;border-radius:999px;background:var(--card)}
.signals{list-style:none;margin:0;padding:0;display:grid;gap:10px}
.resume-actions{margin-top:18px;display:flex;gap:10px}

/* Mananea feed */
.mananea-feed{display:grid;gap:12px}
.note{
  border-left:3px solid color-mix(in oklab, var(--accent) 70%, var(--ink));
  padding:10px 14px;background:var(--card);border:1px solid var(--line);border-radius:10px;box-shadow:var(--shadow)
}
.note .date{font-size:12px;color:var(--muted);font-family:var(--mono)}

/* Projects */
.project-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:18px}
@media (max-width:900px){.project-grid{grid-template-columns:1fr}}
.project{
  display:grid;grid-template-columns:160px 1fr;gap:16px;background:var(--card);border:1px solid var(--line);
  border-radius:16px;padding:16px;box-shadow:var(--shadow);text-decoration:none;color:inherit;
}
.project img{width:100%;height:120px;object-fit:cover;border-radius:12px;border:1px solid var(--line)}
.project h3{margin:0}
.project .tags{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
.tag{font-family:var(--mono);font-size:12px;border:1px solid var(--line);border-radius:999px;padding:2px 8px;background:var(--bg)}

.section-footer{margin-top:12px}

/* Footer */
.site-footer{padding:36px 0}
.footer-inner{display:flex;justify-content:space-between;gap:12px;color:var(--muted);border-top:1px solid var(--line);padding-top:16px}

/* Mobile nav */
@media (max-width:760px){
  .nav-toggle{display:block}
  .nav-links{position:absolute;right:16px;top:64px;background:var(--card);border:1px solid var(--line);border-radius:12px;box-shadow:var(--shadow);padding:10px;display:none;flex-direction:column;min-width:200px}
  .nav-links.open{display:flex}
}

/* Focus states */
a, button, .card, .project{outline:none}
a:focus-visible, button:focus-visible, .card:focus-visible, .project:focus-visible{
  box-shadow:0 0 0 3px color-mix(in oklab, var(--accent) 30%, transparent), inset 0 0 0 2px var(--accent);
  border-radius:12px;
}
